sequenceDiagram
    participant CS as Charging Station (OCTT)
    participant CSMS as CSMS (System Under Test)

    Note over CS,CSMS: Test Case: TC_K_58_CSMS
    Note over CS,CSMS: Renegotiating a Charging Schedule - Initiated by CSMS

    Note over CS,CSMS: Reusable States: Authorized + EVConnectedPreSession<br/>+ ISO15118SmartCharging

    CSMS->>CS: 1. SetChargingProfileRequest
    Note left of CSMS: evseId = <Configured evseId><br/>chargingProfilePurpose = TxProfile<br/>transactionId = <Provided transactionId>

    CS-->>CSMS: 2. SetChargingProfileResponse
    Note right of CS: status = Accepted

    CS->>CSMS: 3. NotifyEVChargingScheduleRequest
    Note right of CS: chargingSchedule = <Schedule provided at step 1>

    CSMS-->>CS: 4. NotifyEVChargingScheduleResponse
    Note left of CSMS: status = Accepted

# Certificates for tzi-OCTT Test Runs

This directory contains **sample certificates** (and related test fixtures) used by the `tzi-OCTT` OCPP 2.0.1 test environment.

These files are for local testing only. They are not intended for production use.

## Generation

All TLS certificate/key files in this folder are generated by:

```bash
./generate_certs.sh
```

The script creates a local test CA and signs server/client certificates for simulator and test flows.

## File Types and Purpose

| File | Type | Purpose |
|---|---|---|
| `ca.pem` | CA certificate (PEM, X.509) | Local root CA certificate used to validate server/client cert chains in tests. |
| `ca.key` | Private key (PEM) | Private key for the local root CA. |
| `ca.srl` | OpenSSL serial file | Serial counter used by OpenSSL when issuing certificates with `-CAcreateserial`. |
| `server.pem` | Server certificate (ECDSA, PEM, X.509) | CSMS WSS server certificate for normal TLS test flows. |
| `server.key` | Private key (ECDSA, PEM) | Private key matching `server.pem`. |
| `server_rsa.pem` | Server certificate (RSA, PEM, X.509) | Alternative CSMS server cert for RSA cipher-suite test coverage. |
| `server_rsa.key` | Private key (RSA, PEM) | Private key matching `server_rsa.pem`. |
| `client.pem` | Client certificate (PEM, X.509) | Valid charging-station client certificate for mTLS/security profile 3 tests. |
| `client.key` | Private key (PEM) | Private key matching `client.pem`. |
| `invalid_client.pem` | Client certificate (self-signed, PEM) | Intentionally invalid client cert used for negative security test cases. |
| `invalid_client.key` | Private key (PEM) | Private key matching `invalid_client.pem`. |
| `contract_cert.pem` | Contract certificate fixture (PEM) | Sample ISO 15118 contract certificate fixture used by test flows. |
| `iso15118_cert_hash_data.json` | JSON test fixture | Sample certificate-hash/OCSP request data representing a valid ISO 15118 chain. |
| `iso15118_revoked_cert_hash_data.json` | JSON test fixture | Sample certificate-hash/OCSP request data representing a revoked ISO 15118 chain. |

## Recommendation: Create New Certificates

Before running your own environment, regenerate certificates and do not reuse repository samples:

1. Run `./generate_certs.sh` to create a fresh local test CA and server/client test certificates.
2. Adjust certificate subjects/SANs (for example CN/SAN hostnames) to match your environment.
3. Replace any shared sample artifacts with your own generated files.

## Production Use

For production systems, certificates should be issued and managed using a proper PKI process, not this local test script.

At minimum, production certificate handling should use:

1. CA-issued certificates from trusted infrastructure.
2. Protected private keys (HSM or secure key management).
3. Rotation, revocation, and lifecycle management policies.
4. Environment-specific identities and strict trust-chain validation.

